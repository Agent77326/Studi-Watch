<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="copyright" content='Leo Jung, 2020'/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, shrink-to-fit=no"/>
    <meta name="robots" content="noindex, nofollow"/>
    <meta name="author" content="Leo Jung"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <title>Studi-Watch</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
<nav class="navbar sticky-top navbar-dark mb-1">
    <a class="navbar-brand" href="../">
        Studi-Watch
    </a>
</nav>
<canvas id="background" class="position-fixed vh-100 vw-100" style="top:0; z-index: -1;"
        aria-label="Hintergrundbild"></canvas>
<noscript>
    <div class="container">
        <div class="alert alert-danger">
            Javascript muss aktiviert sein.
        </div>
    </div>
</noscript>

<div id="root" style="display: none;">
    <div class="modal-dialog" role="document">
        <div class="modal-content bg-dark">
            <div class="modal-body">
                <h4 class="text-center w-100 d-block">Tritt einem Raum bei</h4>
                <form action="" class="form">
                    <div class="input-group input-group-lg mb-3">
                        <input type="text" class="form-control" placeholder="Raum ID"
                               aria-label="Recipient's username" aria-describedby="id-button">
                        <div class="input-group-append">
                            <button class="btn btn-primary" type="submit" id="id-button">Go</button>
                        </div>
                    </div>
                </form>
                <h4 class="text-center w-100 d-block">oder</h4>
                <a href="room/generate" class="btn btn-lg btn-success m-auto d-table" role="button">
                    Erstelle deinen eigenen Raum
                </a>
            </div>

            <div class="modal-footer">
                Let's watch together
            </div>
        </div>
    </div>
</div>

<footer class="footer fixed-bottom bg-dark py-2">
    <div class="container">
        JavaScript muss zwingend aktiviert sein.
        Copyright (c) 2020, Leo Jung, <a class="text-warning" data-toggle="collapse" href="#impressum">Impressum</a>
        <div class="collapse" id="impressum">
            <hr>
            <p>
                Es sollten alle modernen Browser unterstützt sein, welche mindestens
                <a class="text-warning" href="https://caniuse.com/#feat=es6" target="_blank">
                    ECMAScript 2015 (ES6)
                </a> ausführen können.
            </p>
            <p>
                Keine der verwendeten Medien ist in meinem Besitz oder von mir erstellt worden und gehört Ihren
                respektiven
                Erstellern.
                Für eingebundenen Medien und Inhalte, haften jeweils deren Betreiber oder Ersteller.
                Es werden keine personenbezogenen Daten auf diesem Server aufgezeichnet oder verarbeitet.
                Ausgenommen davon sind gesetzlich verpflichtende Daten, wie der Zeitpunkt und IP-Adresse einzelner
                Webseitenaufrufe in den Log-Dateien.
                Es findet eine temporäre Identifikation statt, welche serverseitig lediglich im Zwischenspeicher
                aufbewahrt
                werden.
            </p>
            <ul>
                <li>
                    <a class="text-warning" href="https://getbootstrap.com/" target="_blank">Bootstrap 4</a>, MIT
                    License, docs CC BY 3.0
                </li>
                <li>
                    Icons by <a class="text-warning" href="https://icons8.com/" target="_blank">Icons8</a>
                </li>
                <li>
                    <a class="text-warning" href="https://jquery.org/" target="_blank">jQuery</a>, MIT License
                </li>
                <li>
                    <a class="text-warning" href="https://popper.js.org/" target="_blank">Popperjs</a>, MIT License
                </li>
                <li>
                    <a class="text-warning" href="https://github.com/sampotts/plyr" target="_blank">Plyr</a>, MIT
                    License
                </li>
                <li>
                    <a class="text-warning" href="https://socket.io/" target="_blank">Socket.IO</a>, MIT License
                </li>
            </ul>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>
<script>
    (function () {
        $('form').submit(function (e) {
            e.preventDefault(); // prevents page reloading
            let tmp = $('form input').val();
            if (tmp !== "") {
                if (tmp.match(/^https?:\/\/(.+)/)) {
                    window.location.href = tmp;
                } else if (tmp.match(/[\d\w]+/)) {
                    window.location.href += "room/" + tmp;
                } else {
                    alert("Unbekannter Raum");
                }
            }
            return false;
        });
    })();
</script>
<script src="background.js"></script>
</body>
</html>
